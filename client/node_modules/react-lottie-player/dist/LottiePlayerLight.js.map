{"version":3,"file":"LottiePlayerLight.js","sources":["../src/makeLottiePlayer.js","../src/LottiePlayerLight.js"],"sourcesContent":["// @ts-check\n/// <reference types=\"./index\" />\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport React, {\n  memo, useRef, useEffect, useState, forwardRef, useCallback,\n} from 'react';\nimport equal from 'fast-deep-equal/es6/react';\n// @ts-expect-error todo\nimport clone from 'rfdc/default';\n\nconst emptyObject = {};\nconst noOp = () => undefined;\n\n/**\n * @param {import('lottie-web').LottiePlayer} args\n * @returns {React.FC<import('react-lottie-player').LottieProps>}\n */\nconst makeLottiePlayer = ({ loadAnimation }) => {\n  const Lottie = memo(forwardRef((\n    /** @type {import('react-lottie-player').LottieProps} */\n    params,\n    /** @type {React.ForwardedRef<import('lottie-web').AnimationItem | undefined>} */\n    forwardedRef,\n  ) => {\n    const {\n      play = null,\n      speed = 1,\n      direction = 1,\n      segments: segmentsIn = null,\n      goTo = null,\n      useSubframes = true,\n\n      // props picked to match from Lottie's config\n      renderer = 'svg',\n      loop = true,\n      rendererSettings: rendererSettingsIn = emptyObject,\n      audioFactory,\n\n      onLoad = noOp,\n      onComplete = noOp,\n      onLoopComplete = noOp,\n      onEnterFrame = noOp,\n      onSegmentStart = noOp,\n\n      // htmlProps remain and will pass on to the div element\n      ...props\n    } = params;\n\n    /** @type {import('react-lottie-player').LottieProps} */\n    let propsFiltered = props;\n    /** @type {object | undefined} */\n    let animationData;\n    /** @type {string | undefined} */\n    let path;\n\n    if ('animationData' in props) {\n      ({ animationData, ...propsFiltered } = props);\n    }\n    if ('path' in props) {\n      ({ path, ...propsFiltered } = props);\n    }\n\n    /** @type {React.MutableRefObject<HTMLDivElement | null>} */\n    const animElementRef = useRef(null);\n    /** @type {React.MutableRefObject<import('lottie-web').AnimationItem | undefined>} */\n    const animRef = useRef();\n\n    const getAnim = useCallback(() => {\n      if (animRef.current == null) throw new Error('Lottie ref is not set');\n      return animRef.current;\n    }, []);\n\n    const [ready, setReady] = useState(false);\n\n    const [segments, setSegments] = useState(segmentsIn);\n\n    // Prevent re-init\n    useEffect(() => {\n      if (!equal(segments, segmentsIn)) setSegments(segmentsIn);\n    }, [segmentsIn, segments]);\n\n    const [rendererSettings, setRendererSettings] = useState(rendererSettingsIn);\n\n    // Prevent re-init\n    useEffect(() => {\n      if (!equal(rendererSettings, rendererSettingsIn)) setRendererSettings(rendererSettingsIn);\n    }, [rendererSettingsIn, rendererSettings]);\n\n    // In order to remove listeners before animRef gets destroyed:\n    useEffect(() => () => getAnim().removeEventListener('complete', onComplete), [getAnim, onComplete]);\n    useEffect(() => () => getAnim().removeEventListener('loopComplete', onLoopComplete), [getAnim, onLoopComplete]);\n    useEffect(() => () => getAnim().removeEventListener('enterFrame', onEnterFrame), [getAnim, onEnterFrame]);\n    useEffect(() => () => getAnim().removeEventListener('segmentStart', onSegmentStart), [getAnim, onSegmentStart]);\n    useEffect(() => () => getAnim().removeEventListener('DOMLoaded', onLoad), [getAnim, onLoad]);\n\n    const setLottieRefs = useCallback((/** @type {import('lottie-web').AnimationItem | undefined} */ newRef) => {\n      animRef.current = newRef;\n      if (typeof forwardedRef === 'function') {\n        forwardedRef(newRef);\n      } else if (forwardedRef !== undefined && forwardedRef !== null) {\n        // eslint-disable-next-line no-param-reassign -- mutating a ref is intended\n        forwardedRef.current = newRef;\n      }\n    }, [forwardedRef]);\n\n    useEffect(() => {\n      function parseAnimationData() {\n        if (animationData == null || typeof animationData !== 'object') return animationData;\n\n        // https://github.com/mifi/react-lottie-player/issues/11#issuecomment-879310039\n        // https://github.com/chenqingspring/vue-lottie/issues/20\n        if ('default' in animationData && typeof animationData.default === 'object') {\n          return clone(animationData.default);\n        }\n        // cloneDeep to prevent memory leak. See #35\n        return clone(animationData);\n      }\n\n      if (animElementRef.current == null) throw new Error('animElementRef is not set');\n\n      // console.log('init')\n      const lottie = loadAnimation({\n        animationData: parseAnimationData(),\n        path,\n        container: animElementRef.current,\n        renderer,\n        loop: false,\n        autoplay: false, // We want to explicitly control playback\n        rendererSettings,\n        ...(audioFactory ? { audioFactory } : {}),\n      });\n      setLottieRefs(lottie);\n\n      const onDomLoaded = () => setReady(true);\n\n      getAnim().addEventListener('DOMLoaded', onDomLoaded);\n\n      return () => {\n        getAnim().removeEventListener('DOMLoaded', onDomLoaded);\n        setReady(false);\n        getAnim().destroy();\n        setLottieRefs(undefined);\n      };\n    }, [loop, renderer, rendererSettings, animationData, path, audioFactory, setLottieRefs, getAnim]);\n\n    useEffect(() => {\n      getAnim().addEventListener('DOMLoaded', onLoad);\n    }, [getAnim, onLoad]);\n\n    useEffect(() => {\n      getAnim().addEventListener('complete', onComplete);\n    }, [getAnim, onComplete]);\n\n    useEffect(() => {\n      getAnim().addEventListener('loopComplete', onLoopComplete);\n    }, [getAnim, onLoopComplete]);\n\n    useEffect(() => {\n      getAnim().addEventListener('enterFrame', onEnterFrame);\n    }, [getAnim, onEnterFrame]);\n\n    useEffect(() => {\n      getAnim().addEventListener('segmentStart', onSegmentStart);\n    }, [getAnim, onSegmentStart]);\n\n    useEffect(() => {\n      if (!ready) return;\n      getAnim().loop = loop;\n    }, [ready, loop, getAnim]);\n\n    const wasPlayingSegmentsRef = useRef(false);\n\n    useEffect(() => {\n      if (!ready) return;\n\n      // Without this code, when playback restarts, it will not play in reverse:\n      // https://github.com/mifi/react-lottie-player/issues/19\n      function playReverse(/** @type {number} */ lastFrame) {\n        getAnim().goToAndPlay(lastFrame, true);\n        getAnim().setDirection(direction);\n      }\n\n      if (play === true) {\n        const force = true;\n        if (segments) {\n          getAnim().playSegments(segments, force);\n          wasPlayingSegmentsRef.current = true;\n\n          // This needs to be called after playSegments or it will not play backwards\n          if (direction === -1) {\n            // TODO What if more than one segment\n            const lastFrame = typeof segments[1] === 'number' ? segments[1] : segments[1][1];\n            playReverse(lastFrame);\n          }\n        } else {\n          // If we called playSegments last time, the segments are stored as a state in the lottie object\n          // Need to reset segments or else it will still play the old segments also when calling play()\n          // wasPlayingSegmentsRef: Only reset segments if playSegments last time, because resetSegments will also reset playback position\n          // https://github.com/airbnb/lottie-web/blob/master/index.d.ts\n          if (wasPlayingSegmentsRef.current) getAnim().resetSegments(force);\n          wasPlayingSegmentsRef.current = false;\n\n          if (direction === -1) {\n            const lastFrame = getAnim().getDuration(true);\n            playReverse(lastFrame);\n          } else {\n            getAnim().play();\n          }\n        }\n      } else if (play === false) {\n        getAnim().pause();\n      }\n    }, [play, segments, ready, direction, getAnim]);\n\n    useEffect(() => {\n      if (!ready) return;\n      if (Number.isNaN(speed)) return;\n      getAnim().setSpeed(speed);\n    }, [speed, ready, getAnim]);\n\n    // This handles the case where only direction has changed (direction is not a dependency of the other effect that calls setDirection)\n    useEffect(() => {\n      if (!ready) return;\n      getAnim().setDirection(direction);\n    }, [direction, getAnim, ready]);\n\n    useEffect(() => {\n      if (!ready) return;\n      if (goTo == null) return;\n      const isFrame = true; // TODO\n      if (play) getAnim().goToAndPlay(goTo, isFrame);\n      else getAnim().goToAndStop(goTo, isFrame);\n    }, [getAnim, goTo, play, ready]);\n\n    useEffect(() => {\n      if (getAnim().setSubframe) getAnim().setSubframe(useSubframes);\n      // console.log(getAnim().isSubframeEnabled)\n    }, [getAnim, useSubframes]);\n\n    return (\n      // eslint-disable-next-line react/jsx-filename-extension\n      <div\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        {...propsFiltered}\n        ref={animElementRef}\n      />\n    );\n  }));\n\n  return Lottie;\n};\n\nexport default makeLottiePlayer;\n","import lottie from 'lottie-web/build/player/lottie_light';\nimport makeLottiePlayer from './makeLottiePlayer';\n\nexport default makeLottiePlayer(lottie);\n"],"names":["emptyObject","noOp","undefined","makeLottiePlayer","_ref","loadAnimation","Lottie","memo","forwardRef","params","forwardedRef","_params$play","play","_params$speed","speed","_params$direction","direction","_params$segments","segments","segmentsIn","_params$goTo","goTo","_params$useSubframes","useSubframes","_params$renderer","renderer","_params$loop","loop","_params$rendererSetti","rendererSettings","rendererSettingsIn","audioFactory","_params$onLoad","onLoad","_params$onComplete","onComplete","_params$onLoopComplet","onLoopComplete","_params$onEnterFrame","onEnterFrame","_params$onSegmentStar","onSegmentStart","props","_objectWithoutPropertiesLoose","propsFiltered","animationData","path","_props","_props2","animElementRef","useRef","animRef","getAnim","useCallback","current","Error","_useState","useState","ready","setReady","_useState2","setSegments","useEffect","equal","_useState3","setRendererSettings","removeEventListener","setLottieRefs","newRef","parseAnimationData","clone","lottie","_extends","container","autoplay","onDomLoaded","addEventListener","destroy","wasPlayingSegmentsRef","playReverse","lastFrame","goToAndPlay","setDirection","force","playSegments","resetSegments","getDuration","pause","Number","isNaN","setSpeed","isFrame","goToAndStop","setSubframe","React","createElement","ref"],"mappings":"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"}